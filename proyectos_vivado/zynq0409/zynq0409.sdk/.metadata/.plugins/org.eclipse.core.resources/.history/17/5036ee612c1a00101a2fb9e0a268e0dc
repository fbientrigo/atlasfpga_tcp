#define RING_BUFFER_CAPACITY 16   // número de bloques
#define BLOCK_BUFFER_SIZE 512     // cada bloque puede contener varias líneas

typedef struct {
    char data[RING_BUFFER_CAPACITY][BLOCK_BUFFER_SIZE];
    int head;  // índice de escritura
    int tail;  // índice de lectura
    int count; // bloques ocupados
} LineRingBuffer;

void init_line_blocks();
int load_lines_to_buffer(LineRingBuffer *rb);
int read_next_block_from_buffer(LineRingBuffer *rb, char *out_block, size_t max_len);
