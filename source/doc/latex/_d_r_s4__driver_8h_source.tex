\doxysection{DRS4\+\_\+driver.\+h}
\hypertarget{_d_r_s4__driver_8h_source}{}\label{_d_r_s4__driver_8h_source}\index{base\_code/MB40ch\_wUART/src/DRS4\_driver.h@{base\_code/MB40ch\_wUART/src/DRS4\_driver.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{\ *\ DRS4\_driver.h}}
\DoxyCodeLine{00003\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00004\ \textcolor{comment}{\ *\ \ Created\ on:\ Apr\ 22,\ 2020}}
\DoxyCodeLine{00005\ \textcolor{comment}{\ *\ \ \ \ \ \ Author:\ Rimsky}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00007\ }
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#ifndef\ SRC\_DRS4\_DRIVER\_H\_}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#define\ SRC\_DRS4\_DRIVER\_H\_}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{comment}{//\#include\ "{}DRS4\_firmware.h"{}}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#include\ "{}sleep.h"{}}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{preprocessor}{\#include\ "{}xil\_types.h"{}}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#include\ "{}xstatus.h"{}}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#include\ "{}xil\_io.h"{}}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG0\_OFFSET\ 0}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#define\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG1\_OFFSET\ 4}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG2\_OFFSET\ 8}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#define\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG3\_OFFSET\ 12}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#define\ DRS4\_ctrl\_signals\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG0\_OFFSET}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#define\ DRS4\_register\_signals\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG1\_OFFSET}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#define\ DRS4\_read\_signals\ DRS4\_FIRMWARE\_S00\_AXI\_SLV\_REG2\_OFFSET}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{comment}{//\#define\ DRS4\_base\_addr\ XPAR\_DRS4\_FIRMWARE\_0\_S00\_AXI\_BASEADDR}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#warning\ CHECK\ FOR\ the\ right\ DRS4\ base\ address\ the\ one\ xparameters\ is\ wrong}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#define\ DRS4\_base\_addr\ \ 0x43C20000\ }\textcolor{comment}{//\ for\ some\ reason\ baseaddress\ was\ wrong}}
\DoxyCodeLine{00031\ u32\ DRS\_start\_adq;}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{comment}{/****************************\ Type\ Definitions\ *****************************/}}
\DoxyCodeLine{00051\ \textcolor{preprocessor}{\#define\ DRS4\_FIRMWARE\_mWriteReg(BaseAddress,\ RegOffset,\ Data)\ \(\backslash\)}}
\DoxyCodeLine{00052\ \textcolor{preprocessor}{\ \ \ \ Xil\_Out32((BaseAddress)\ +\ (RegOffset),\ (u32)(Data))}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00071\ \textcolor{preprocessor}{\#define\ DRS4\_FIRMWARE\_mReadReg(BaseAddress,\ RegOffset)\ \(\backslash\)}}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\ \ \ \ Xil\_In32((BaseAddress)\ +\ (RegOffset))}}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{comment}{/**************************\ Function\ Prototypes\ ****************************/}}
\DoxyCodeLine{00094\ XStatus\ DRS4\_FIRMWARE\_Reg\_SelfTest(\textcolor{keywordtype}{void}\ *\ baseaddr\_p);}
\DoxyCodeLine{00095\ u32\ DRS4\_ctrl\_signal\ ();}
\DoxyCodeLine{00096\ u32\ DRS4\_register\_signal();}
\DoxyCodeLine{00097\ \textcolor{keywordtype}{void}\ write\_DRS4\_control\_signals();}
\DoxyCodeLine{00098\ \textcolor{keywordtype}{void}\ write\_DRS4\_register\_signals();}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ u32\ get\_states\_machine();}
\DoxyCodeLine{00101\ u32\ get\_stop\_cell\_SROUT();}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{keywordtype}{void}\ DRS4\_Init\ ();}
\DoxyCodeLine{00104\ \textcolor{keywordtype}{int}\ DRS4\_config\ ();}
\DoxyCodeLine{00105\ \textcolor{keywordtype}{int}\ DRS4\_start\_ROI();}
\DoxyCodeLine{00106\ \textcolor{keywordtype}{int}\ DRS4\_start\_FullRO();}
\DoxyCodeLine{00107\ \textcolor{keywordtype}{void}\ DRS4\_Safe\_shutdown\ ();}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{/*\ SRC\_DRS4\_DRIVER\_H\_\ */}\textcolor{preprocessor}{}}

\end{DoxyCode}
